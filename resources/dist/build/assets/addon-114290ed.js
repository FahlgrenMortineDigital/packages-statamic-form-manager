const G={methods:{actionStarted(){this.loading=!0},actionCompleted(r=null,t={}){this.loading=!1,r!==!1&&(this.$events.$emit("clear-selections"),this.$events.$emit("reset-action-modals"),t.message!==!1&&this.$toast.success(t.message||__("Action completed")),this.afterActionSuccessfullyCompleted())},afterActionSuccessfullyCompleted(){this.request()}}},Z={data(){return{activeFilterBadges:{},activeFilters:{},activePreset:null,activePresetPayload:{},searchQuery:""}},computed:{activeFilterCount(){let r=Object.keys(this.activeFilters).length;return this.activeFilters.hasOwnProperty("fields")&&(r=r+Object.keys(this.activeFilters.fields).filter(t=>t!="badge").length-1),r},canSave(){return this.isDirty&&this.preferencesPrefix},isDirty(){return this.isFiltering?this.activePreset?this.activePresetPayload.query!=this.searchQuery||!_.isEqual(this.activePresetPayload.filters||{},this.activeFilters):!0:!1},isFiltering(){return!_.isEmpty(this.activeFilters)||this.searchQuery||this.activePreset},hasActiveFilters(){return this.activeFilterCount>0},searchPlaceholder(){return this.activePreset?__("Searching in: ")+this.activePresetPayload.display:__("Search")}},created(){this.$keys.bind("f",r=>{r.preventDefault(),this.handleShowFilters()})},methods:{searchChanged(r){this.searchQuery=r},hasFields(r){for(const t in r)if(r[t])return!0;return!1},filterChanged({handle:r,values:t},a=!0){t&&this.hasFields(t)?Vue.set(this.activeFilters,r,t):Vue.delete(this.activeFilters,r),a&&this.unselectAllItems()},filtersChanged(r){this.activeFilters={};for(const t in r){const a=r[t];this.filterChanged({handle:t,values:a},!1)}this.unselectAllItems()},filtersReset(){this.activePreset=null,this.activePresetPayload={},this.searchQuery="",this.activeFilters={},this.activeFilterBadges={}},unselectAllItems(){this.$refs.dataList&&this.$refs.dataList.clearSelections()},selectPreset(r,t){this.activePreset=r,this.activePresetPayload=t,this.searchQuery=t.query,this.filtersChanged(t.filters)},autoApplyFilters(r){if(!r)return;let t={};r.filter(a=>!_.isEmpty(a.auto_apply)).forEach(a=>{t[a.handle]=a.auto_apply}),this.activeFilters=t}}},ee={props:{initialPerPage:{type:Number,default(){return Statamic.$config.get("paginationSize")}}},data(){return{perPage:this.initialPerPage,page:1}},mounted(){this.setInitialPerPage()},methods:{setInitialPerPage(){this.hasPreferences&&(this.perPage=this.getPreference("per_page")||this.initialPerPage)},changePerPage(r){r=parseInt(r),(this.hasPreferences?this.setPreference("per_page",r!=this.initialPerPage?r:null):Promise.resolve()).then(a=>{this.perPage=r,this.resetPage()})},selectPage(r){this.page=r,this.$events.$emit("clear-selections")},resetPage(){this.page=1,this.$events.$emit("clear-selections")}}},te={data(){return{preferencesPrefix:null}},computed:{hasPreferences(){return this.preferencesPrefix!==null}},methods:{preferencesKey(r){return`${this.preferencesPrefix}.${r}`},getPreference(r){return this.$preferences.get(this.preferencesKey(r))},setPreference(r,t){return this.$preferences.set(this.preferencesKey(r),t)},removePreference(r,t=null){return this.$preferences.remove(this.preferencesKey(r),t)}}};function V(r,t,a,b,p,l,o,c){var u=typeof r=="function"?r.options:r;t&&(u.render=t,u.staticRenderFns=a,u._compiled=!0),b&&(u.functional=!0),l&&(u._scopeId="data-v-"+l);var d;if(o?(d=function(f){f=f||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!f&&typeof __VUE_SSR_CONTEXT__<"u"&&(f=__VUE_SSR_CONTEXT__),p&&p.call(this,f),f&&f._registeredComponents&&f._registeredComponents.add(o)},u._ssrRegister=d):p&&(d=c?function(){p.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:p),d)if(u.functional){u._injectStyles=d;var C=u.render;u.render=function(k,x){return d.call(x),C(k,x)}}else{var g=u.beforeCreate;u.beforeCreate=g?[].concat(g,d):[d]}return{exports:r,options:u}}const re={mixins:[G,Z,ee,te],props:{initialSortColumn:String,initialSortDirection:String,initialColumns:{type:Array,default:()=>[]},filters:Array,actionUrl:String},data(){return{source:null,initializing:!0,loading:!0,items:[],columns:this.initialColumns,visibleColumns:this.initialColumns.filter(r=>r.visible),sortColumn:this.initialSortColumn,sortDirection:this.initialSortDirection,meta:null,pushQuery:!1,popping:!1}},computed:{parameterMap(){return{sort:"sortColumn",order:"sortDirection",page:"page",perPage:"perPage",search:"searchQuery",filters:"activeFilterParameters",columns:"visibleColumnParameters"}},parameters:{get(){return{...Object.fromEntries(Object.entries(this.parameterMap).map(([t,a])=>[t,this[a]]).filter(([t,a])=>a!=null&&a!=="")),...this.additionalParameters}},set(r){Object.entries(this.parameterMap).forEach(([t,a])=>{r.hasOwnProperty(t)&&(this[a]=r[t])})}},activeFilterParameters:{get(){return _.isEmpty(this.activeFilters)?null:utf8btoa(JSON.stringify(this.activeFilters))},set(r){this.activeFilters=JSON.parse(utf8atob(r))}},visibleColumnParameters:{get(){return _.isEmpty(this.visibleColumns)?null:this.visibleColumns.map(r=>r.field).join(",")},set(r){this.visibleColumns=r.split(",").map(t=>this.columns.find(a=>a.field===t))}},additionalParameters(){return{}},shouldRequestFirstPage(){return this.page>1&&this.items.length===0?(this.page=1,!0):!1}},created(){this.autoApplyFilters(this.filters),this.autoApplyState(),this.request()},mounted(){this.pushQuery&&(window.history.replaceState({parameters:this.parameters},""),window.addEventListener("popstate",this.popState))},beforeDestroy(){this.pushQuery&&window.removeEventListener("popstate",this.popState)},watch:{parameters:{deep:!0,handler(r,t){t.search===r.search&&JSON.stringify(t)!==JSON.stringify(r)&&(this.request(),this.pushState())}},loading:{immediate:!0,handler(r){this.$progress.loading(this.listingKey,r)}},searchQuery(r){this.sortColumn=null,this.sortDirection=null,this.resetPage(),this.request(),this.pushState()}},methods:{request(){if(!this.requestUrl){this.loading=!1;return}this.loading=!0,this.source&&this.source.cancel(),this.source=this.$axios.CancelToken.source(),this.$axios.get(this.requestUrl,{params:this.parameters,cancelToken:this.source.token}).then(r=>{if(this.columns=r.data.meta.columns,this.activeFilterBadges={...r.data.meta.activeFilterBadges},this.items=Object.values(r.data.data),this.meta=r.data.meta,this.shouldRequestFirstPage)return this.request();this.loading=!1,this.initializing=!1,this.afterRequestCompleted(r)}).catch(r=>{this.$axios.isCancel(r)||(this.loading=!1,this.initializing=!1,!(r.request&&!r.response)&&this.$toast.error(r.response?r.response.data.message:__("Something went wrong"),{duration:null}))})},afterRequestCompleted(r){},sorted(r,t){this.sortColumn=r,this.sortDirection=t},removeRow(r){let t=r.id,a=_.indexOf(this.rows,_.findWhere(this.rows,{id:t}));this.rows.splice(a,1),this.rows.length===0&&location.reload()},popState(r){!this.pushQuery||!r.state||(this.popping=!0,this.parameters=r.state.parameters,this.$nextTick(()=>{this.popping=!1}))},pushState(){if(!this.pushQuery||this.popping)return;const r=this.parameters,t=Object.keys(this.parameterMap),a=new URLSearchParams(Object.fromEntries(t.filter(b=>r.hasOwnProperty(b)).map(b=>[b,r[b]])));window.history.pushState({parameters:r},"","?"+a.toString())},autoApplyState(){if(!this.pushQuery||!window.location.search)return;const r=new URLSearchParams(window.location.search),t=Object.fromEntries(r.entries());this.popping=!0,this.parameters=t,this.$nextTick(()=>{this.popping=!1})}}},ne=null,se=null;var ie=V(re,ne,se,!1,null,null,null,null);const I=ie.exports,ae={mixins:[I],components:{Listing:I},data(){return{listingKey:"formidable.exports",preferencesPrefix:"formidable.exports",requestUrl:cp_url("formidable/api/exports"),columns:this.columns}}};var le=function(){var t=this,a=t._self._c;return a("div",[t.initializing?a("div",{staticClass:"card loading"},[a("loading-graphic")],1):t._e(),t.initializing?t._e():a("data-list",{ref:"datalist",attrs:{rows:t.items,columns:t.columns,sort:!1,"sort-column":t.sortColumn,"sort-direction":t.sortDirection},on:{"visible-columns-updated":function(b){t.visibleColumns=b}},scopedSlots:t._u([{key:"default",fn:function({hasSelections:b}){return[a("div",[a("div",{staticClass:"card overflow-hidden p-0 relative"},[a("div",{staticClass:"flex flex-wrap items-center justify-between px-2 pb-2 text-sm border-b"},[a("data-list-filter-presets",{ref:"presets",attrs:{"active-preset":t.activePreset,"active-preset-payload":t.activePresetPayload,"active-filters":t.activeFilters,"has-active-filters":t.hasActiveFilters,"preferences-prefix":t.preferencesPrefix,"search-query":t.searchQuery},on:{selected:t.selectPreset,reset:t.filtersReset}}),a("div",{staticClass:"w-full flex-1"},[a("data-list-search",{ref:"search",staticClass:"h-8 mt-2 min-w-[240px] w-full",attrs:{placeholder:t.searchPlaceholder},model:{value:t.searchQuery,callback:function(p){t.searchQuery=p},expression:"searchQuery"}})],1),a("div",{staticClass:"flex space-x-2 mt-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.isDirty,expression:"isDirty"}],staticClass:"btn btn-sm ml-2",domProps:{textContent:t._s(t.__("Reset"))},on:{click:function(p){return t.$refs.presets.refreshPreset()}}}),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isDirty,expression:"isDirty"}],staticClass:"btn btn-sm ml-2",domProps:{textContent:t._s(t.__("Save"))},on:{click:function(p){return t.$refs.presets.savePreset()}}}),a("data-list-column-picker",{attrs:{"preferences-key":t.preferencesKey("columns")}})],1)],1),a("div",[a("data-list-filters",{ref:"filters",attrs:{filters:t.filters,"active-preset":t.activePreset,"active-preset-payload":t.activePresetPayload,"active-filters":t.activeFilters,"active-filter-badges":t.activeFilterBadges,"active-count":t.activeFilterCount,"search-query":t.searchQuery,"is-searching":!0,"saves-presets":!0,"preferences-prefix":t.preferencesPrefix},on:{changed:t.filterChanged,saved:function(p){return t.$refs.presets.setPreset(p)},deleted:function(p){return t.$refs.presets.refreshPresets()}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length===0,expression:"items.length === 0"}],staticClass:"p-6 text-center text-gray-500",domProps:{textContent:t._s(t.__("No results"))}}),a("div",{staticClass:"overflow-x-auto overflow-y-hidden"},[a("data-list-table",{directives:[{name:"show",rawName:"v-show",value:t.items.length,expression:"items.length"}],attrs:{"allow-bulk-actions":!1,loading:t.loading,reorderable:!1,sortable:!0,"toggle-selection-on-row-click":!1,"allow-column-picker":!0,"column-preferences-key":t.preferencesKey("columns")},on:{sorted:t.sorted},scopedSlots:t._u([{key:"cell-form_handle",fn:function({row:p}){return[a("a",{staticClass:"text-blue hover:text-blue-dark",staticStyle:{"word-break":"break-all"},attrs:{href:t.cp_url(`forms/${p.form_handle}`)}},[t._v(t._s(p.form_handle))])]}},{key:"cell-submission_id",fn:function({row:p}){return[a("a",{staticClass:"text-blue hover:text-blue-dark",staticStyle:{"word-break":"break-all"},attrs:{href:t.cp_url(`formidable/submissions/${p.submission_id}`)}},[t._v(t._s(p.submission_id))])]}},{key:"cell-exported_count",fn:function({row:p}){return[a("span",[t._v(t._s(p.exported_count))])]}},{key:"cell-failed_count",fn:function({row:p}){return[a("span",[t._v(t._s(p.failed_count))])]}}],null,!0)})],1)]),a("data-list-pagination",{staticClass:"mt-3",attrs:{"resource-meta":t.meta,"per-page":t.perPage},on:{"page-selected":t.selectPage,"per-page-changed":t.changePerPage}})],1)]}}],null,!1,1230629399)})],1)},oe=[],ce=V(ae,le,oe,!1,null,null,null,null);const ue=ce.exports;var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Q={exports:{}};(function(r,t){(function(a,b){r.exports=b()})(he,function(){return function(){var a={228:function(l){l.exports=function(o,c){(c==null||c>o.length)&&(c=o.length);for(var u=0,d=new Array(c);u<c;u++)d[u]=o[u];return d}},858:function(l){l.exports=function(o){if(Array.isArray(o))return o}},646:function(l,o,c){var u=c(228);l.exports=function(d){if(Array.isArray(d))return u(d)}},713:function(l){l.exports=function(o,c,u){return c in o?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u,o}},860:function(l){l.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},884:function(l){l.exports=function(o,c){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var u=[],d=!0,C=!1,g=void 0;try{for(var f,k=o[Symbol.iterator]();!(d=(f=k.next()).done)&&(u.push(f.value),!c||u.length!==c);d=!0);}catch(x){C=!0,g=x}finally{try{d||k.return==null||k.return()}finally{if(C)throw g}}return u}}},521:function(l){l.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},206:function(l){l.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},38:function(l,o,c){var u=c(858),d=c(884),C=c(379),g=c(521);l.exports=function(f,k){return u(f)||d(f,k)||C(f,k)||g()}},319:function(l,o,c){var u=c(646),d=c(860),C=c(379),g=c(206);l.exports=function(f){return u(f)||d(f)||C(f)||g()}},8:function(l){function o(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l.exports=o=function(u){return typeof u}:l.exports=o=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o(c)}l.exports=o},379:function(l,o,c){var u=c(228);l.exports=function(d,C){if(d){if(typeof d=="string")return u(d,C);var g=Object.prototype.toString.call(d).slice(8,-1);return g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set"?Array.from(d):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?u(d,C):void 0}}},665:function(l,o,c){c.r(o),c.d(o,{default:function(){return X}});var u=c(38),d=c.n(u),C=c(319),g=c.n(C),f=c(713),k=c.n(f);function x(e,s,n,i,h,y,P,v){var w,m=typeof e=="function"?e.options:e;if(s&&(m.render=s,m.staticRenderFns=n,m._compiled=!0),i&&(m.functional=!0),y&&(m._scopeId="data-v-"+y),P?(w=function(S){(S=S||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__>"u"||(S=__VUE_SSR_CONTEXT__),h&&h.call(this,S),S&&S._registeredComponents&&S._registeredComponents.add(P)},m._ssrRegister=w):h&&(w=v?function(){h.call(this,(m.functional?this.parent:this).$root.$options.shadowRoot)}:h),w)if(m.functional){m._injectStyles=w;var F=m.render;m.render=function(S,E){return w.call(E),F(S,E)}}else{var T=m.beforeCreate;m.beforeCreate=T?[].concat(T,w):[w]}return{exports:e,options:m}}var M=x({props:{data:{required:!0,type:String}},methods:{toggleBrackets:function(e){this.$emit("click",e)}}},function(){var e=this,s=e.$createElement;return(e._self._c||s)("span",{staticClass:"vjs-tree-brackets",on:{click:function(n){return n.stopPropagation(),e.toggleBrackets(n)}}},[e._v(e._s(e.data))])},[],!1,null,null,null).exports,H=x({props:{checked:{type:Boolean,default:!1},isMultiple:Boolean},computed:{uiType:function(){return this.isMultiple?"checkbox":"radio"},model:{get:function(){return this.checked},set:function(e){this.$emit("input",e)}}}},function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("label",{class:["vjs-check-controller",e.checked?"is-checked":""],on:{click:function(i){i.stopPropagation()}}},[n("span",{class:"vjs-check-controller-inner is-"+e.uiType}),n("input",{class:"vjs-check-controller-original is-"+e.uiType,attrs:{type:e.uiType},domProps:{checked:e.model},on:{change:function(i){return e.$emit("change",e.model)}}})])},[],!1,null,null,null).exports,K=x({props:{nodeType:{type:String,required:!0}},computed:{isOpen:function(){return this.nodeType==="objectStart"||this.nodeType==="arrayStart"},isClose:function(){return this.nodeType==="objectCollapsed"||this.nodeType==="arrayCollapsed"}},methods:{handleClick:function(){this.$emit("click")}}},function(){var e=this,s=e.$createElement,n=e._self._c||s;return e.isOpen||e.isClose?n("span",{class:"vjs-carets vjs-carets-"+(e.isOpen?"open":"close"),on:{click:e.handleClick}},[n("svg",{attrs:{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}})])]):e._e()},[],!1,null,null,null).exports,J=c(8),U=c.n(J);function L(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function j(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=i.key,y=i.index,P=i.type,v=P===void 0?"content":P,w=i.showComma,m=w!==void 0&&w,F=i.length,T=F===void 0?1:F,S=L(e);if(S==="array"){var E=R(e.map(function(O,N,A){return j(O,"".concat(s,"[").concat(N,"]"),n+1,{index:N,showComma:N!==A.length-1,length:T,type:v})}));return[j("[",s,n,{key:h,length:e.length,type:"arrayStart"})[0]].concat(E,j("]",s,n,{showComma:m,length:e.length,type:"arrayEnd"})[0])}if(S==="object"){var D=Object.keys(e),Y=R(D.map(function(O,N,A){return j(e[O],/^[a-zA-Z_]\w*$/.test(O)?"".concat(s,".").concat(O):"".concat(s,'["').concat(O,'"]'),n+1,{key:O,showComma:N!==A.length-1,length:T,type:v})}));return[j("{",s,n,{key:h,index:y,length:D.length,type:"objectStart"})[0]].concat(Y,j("}",s,n,{showComma:m,length:D.length,type:"objectEnd"})[0])}return[{content:e,level:n,key:h,index:y,path:s,showComma:m,length:T,type:v}]}function R(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var s=g()(e),n=[];s.length;){var i=s.shift();Array.isArray(i)?s.unshift.apply(s,g()(i)):n.push(i)}return n}function B(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(U()(e)!=="object")return e;if(s.get(e))return s.get(e);if(Array.isArray(e)){var n=e.map(function(y){return B(y,s)});return s.set(e,n),n}var i={};for(var h in e)i[h]=B(e[h],s);return s.set(e,i),i}var z=x({components:{Brackets:M,CheckController:H,Carets:K},props:{node:{required:!0,type:Object},collapsed:Boolean,showDoubleQuotes:Boolean,showLength:Boolean,checked:Boolean,selectableType:{type:String,default:""},showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"}},data:function(){return{editing:!1}},computed:{valueClass:function(){return"vjs-value vjs-value-".concat(this.dataType)},dataType:function(){return L(this.node.content)},prettyKey:function(){return this.showDoubleQuotes?'"'.concat(this.node.key,'"'):this.node.key},selectable:function(){return this.nodeSelectable(this.node)&&(this.isMultiple||this.isSingle)},isMultiple:function(){return this.selectableType==="multiple"},isSingle:function(){return this.selectableType==="single"},defaultValue:function(){var e,s=(e=this.node)===null||e===void 0?void 0:e.content;return s==null&&(s+=""),this.dataType==="string"?'"'.concat(s,'"'):s}},methods:{handleInputChange:function(e){var s,n,i=(n=(s=e.target)===null||s===void 0?void 0:s.value)==="null"?null:n==="undefined"?void 0:n==="true"||n!=="false"&&(n[0]+n[n.length-1]==='""'||n[0]+n[n.length-1]==="''"?n.slice(1,-1):typeof Number(n)=="number"&&!isNaN(Number(n))||n==="NaN"?Number(n):n);this.$emit("value-change",i,this.node.path)},handleIconClick:function(){this.$emit("icon-click",!this.collapsed,this.node.path)},handleBracketsClick:function(){this.$emit("brackets-click",!this.collapsed,this.node.path)},handleSelectedChange:function(){this.$emit("selected-change",this.node)},handleNodeClick:function(){this.$emit("node-click",this.node),this.selectable&&this.selectOnClickNode&&this.$emit("selected-change",this.node)},handleValueEdit:function(e){var s=this;if(this.editable&&!this.editing){this.editing=!0;var n=function i(h){var y;h.target!==e.target&&((y=h.target)===null||y===void 0?void 0:y.parentElement)!==e.target&&(s.editing=!1,document.removeEventListener("click",i))};document.removeEventListener("click",n),document.addEventListener("click",n)}}}},function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked},on:{click:e.handleNodeClick}},[e.showLineNumber?n("span",{staticClass:"vjs-node-index"},[e._v(`
    `+e._s(e.node.id+1)+`
  `)]):e._e(),e.showSelectController&&e.selectable&&e.node.type!=="objectEnd"&&e.node.type!=="arrayEnd"?n("check-controller",{attrs:{"is-multiple":e.isMultiple,checked:e.checked},on:{change:e.handleSelectedChange}}):e._e(),n("div",{staticClass:"vjs-indent"},[e._l(e.node.level,function(i,h){return n("div",{key:h,class:{"vjs-indent-unit":!0,"has-line":e.showLine}})}),e.showIcon?n("carets",{attrs:{"node-type":e.node.type},on:{click:e.handleIconClick}}):e._e()],2),e.node.key?n("span",{staticClass:"vjs-key"},[e._t("key",[e._v(e._s(e.prettyKey))],{node:e.node,defaultKey:e.prettyKey}),n("span",[e._v(":")])],2):e._e(),n("span",[e.node.type!=="content"?n("brackets",{attrs:{data:e.node.content},on:{click:e.handleBracketsClick}}):n("span",{class:e.valueClass,on:{click:function(i){!e.editable||e.editableTrigger&&e.editableTrigger!=="click"||e.handleValueEdit(i)},dblclick:function(i){e.editable&&e.editableTrigger==="dblclick"&&e.handleValueEdit(i)}}},[e.editable&&e.editing?n("input",{style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"},domProps:{value:e.defaultValue},on:{change:e.handleInputChange}}):e._t("value",[e._v(e._s(e.defaultValue))],{node:e.node,defaultValue:e.defaultValue})],2),e.node.showComma?n("span",[e._v(",")]):e._e(),e.showLength&&e.collapsed?n("span",{staticClass:"vjs-comment"},[e._v(" // "+e._s(e.node.length)+" items ")]):e._e()],1)],1)},[],!1,null,null,null);function q(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);s&&(i=i.filter(function(h){return Object.getOwnPropertyDescriptor(e,h).enumerable})),n.push.apply(n,i)}return n}function $(e){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?q(Object(n),!0).forEach(function(i){k()(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var W=x({name:"VueJsonPretty",components:{TreeNode:z.exports},model:{prop:"data"},props:{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},selectableType:{type:String,default:""},showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},selectedValue:{type:[Array,String],default:function(){return""}},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"}},data:function(){var e=this;return{translateY:0,visibleData:null,hiddenPaths:j(this.data,this.rootPath).reduce(function(s,n){var i=n.level>=e.deep;return n.type!=="objectStart"&&n.type!=="arrayStart"||!i?s:$($({},s),{},k()({},n.path,1))},{})}},computed:{originFlatData:function(){return j(this.data,this.rootPath)},flatData:function(e){for(var s=e.originFlatData,n=e.hiddenPaths,i=null,h=[],y=s.length,P=0;P<y;P++){var v=$($({},s[P]),{},{id:P}),w=n[v.path];if(i&&i.path===v.path){var m=i.type==="objectStart",F=$($($({},v),i),{},{showComma:v.showComma,content:m?"{...}":"[...]",type:m?"objectCollapsed":"arrayCollapsed"});i=null,h.push(F)}else{if(w&&!i){i=v;continue}if(i)continue;h.push(v)}}return h},selectedPaths:{get:function(){var e=this.selectedValue;return e&&this.selectableType==="multiple"&&Array.isArray(e)?e:[e]},set:function(e){this.$emit("update:selectedValue",e)}},propsError:function(){return!this.selectableType||this.selectOnClickNode||this.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}},watch:{propsError:{handler:function(e){if(e)throw new Error("[VueJsonPretty] ".concat(e))},immediate:!0},flatData:{handler:function(e){this.updateVisibleData(e)},immediate:!0}},methods:{updateVisibleData:function(e){if(this.virtual){var s=this.height/this.itemHeight,n=this.$refs.tree&&this.$refs.tree.scrollTop||0,i=Math.floor(n/this.itemHeight),h=i<0?0:i+s>e.length?e.length-s:i;h<0&&(h=0);var y=h+s;this.translateY=h*this.itemHeight,this.visibleData=e.filter(function(P,v){return v>=h&&v<y})}else this.visibleData=e},handleTreeScroll:function(){this.updateVisibleData(this.flatData)},handleSelectedChange:function(e){var s=e.path,n=this.selectableType;if(n==="multiple"){var i=this.selectedPaths.findIndex(function(v){return v===s}),h=g()(this.selectedPaths);i!==-1?this.selectedPaths.splice(i,1):this.selectedPaths.push(s),this.$emit("selected-change",this.selectedPaths,h)}else if(n==="single"&&this.selectedPaths[0]!==s){var y=d()(this.selectedPaths,1)[0],P=s;this.selectedPaths=P,this.$emit("selected-change",P,y)}},handleNodeClick:function(e){this.$emit("node-click",e)},updateCollapsedPaths:function(e,s){if(e)this.hiddenPaths=$($({},this.hiddenPaths),{},k()({},s,1));else{var n=$({},this.hiddenPaths);delete n[s],this.hiddenPaths=n}},handleBracketsClick:function(e,s){this.collapsedOnClickBrackets&&this.updateCollapsedPaths(e,s),this.$emit("brackets-click",e)},handleIconClick:function(e,s){this.updateCollapsedPaths(e,s),this.$emit("icon-click",e)},handleValueChange:function(e,s){var n=B(this.data),i=this.rootPath;new Function("data","val","data".concat(s.slice(i.length),"=val"))(n,e),this.$emit("input",n)}}},function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":e.virtual},style:e.showLineNumber?{paddingLeft:12*Number(e.originFlatData.length.toString().length)+"px"}:{},on:{scroll:function(i){e.virtual&&e.handleTreeScroll()}}},[n("div",{staticClass:"vjs-tree-list",style:e.virtual&&{height:e.height+"px"}},[n("div",{staticClass:"vjs-tree-list-holder",style:e.virtual&&{height:e.flatData.length*e.itemHeight+"px"}},[n("div",{staticClass:"vjs-tree-list-holder-inner",style:e.virtual&&{transform:"translateY("+e.translateY+"px)"}},e._l(e.visibleData,function(i){return n("tree-node",{key:i.id,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:e.itemHeight+"px"}:{},attrs:{node:i,collapsed:!!e.hiddenPaths[i.path],"show-double-quotes":e.showDoubleQuotes,"show-length":e.showLength,"collapsed-on-click-brackets":e.collapsedOnClickBrackets,checked:e.selectedPaths.includes(i.path),"selectable-type":e.selectableType,"show-line":e.showLine,"show-line-number":e.showLineNumber,"show-select-controller":e.showSelectController,"select-on-click-node":e.selectOnClickNode,"node-selectable":e.nodeSelectable,"highlight-selected-node":e.highlightSelectedNode,"show-icon":e.showIcon,editable:e.editable,"editable-trigger":e.editableTrigger},on:{"node-click":e.handleNodeClick,"brackets-click":e.handleBracketsClick,"icon-click":e.handleIconClick,"selected-change":e.handleSelectedChange,"value-change":e.handleValueChange},scopedSlots:e._u([{key:"key",fn:function(h){return[e._t("nodeKey",null,{node:h.node,defaultKey:h.defaultKey})]}},{key:"value",fn:function(h){return[e._t("nodeValue",null,{node:h.node,defaultValue:h.defaultValue})]}}],null,!0)})}),1)])])])},[],!1,null,null,null).exports,X=Object.assign({},W,{version:"1.9.3"})}},b={};function p(l){if(b[l])return b[l].exports;var o=b[l]={exports:{}};return a[l](o,o.exports,p),o.exports}return p.n=function(l){var o=l&&l.__esModule?function(){return l.default}:function(){return l};return p.d(o,{a:o}),o},p.d=function(l,o){for(var c in o)p.o(o,c)&&!p.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:o[c]})},p.o=function(l,o){return Object.prototype.hasOwnProperty.call(l,o)},p.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},p(665)}()})})(Q);var pe=Q.exports;const fe=de(pe);const me={name:"JsonPrettyPrint",components:{VueJsonPretty:fe},props:{data:{type:Object,required:!0}}};var ge=function(){var t=this,a=t._self._c;return a("div",[a("vue-json-pretty",{attrs:{data:t.data}})],1)},ye=[],ve=V(me,ge,ye,!1,null,null,null,null);const be=ve.exports;Statamic.$components.register("exports-listing",ue);Statamic.$components.register("json-pretty-print",be);
